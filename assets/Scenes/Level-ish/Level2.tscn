[gd_scene format=3 uid="uid://coqnxarvuvm8"]

[ext_resource type="Script" uid="uid://b3al0rufd3s65" path="res://assets/scripts/Music_Play.gd" id="1_xl8hg"]
[ext_resource type="Texture2D" uid="uid://4jfiobpdv8wt" path="res://assets/sprites/UI/UI-Estructura-Pantalla-01.jpg" id="2_o7own"]
[ext_resource type="Theme" uid="uid://b52ybk3bln0d4" path="res://assets/UI_theme.tres" id="3_y8710"]
[ext_resource type="Texture2D" uid="uid://xs075ehiir0i" path="res://assets/sprites/UI/Capa - Apagado.jpg" id="4_gueys"]
[ext_resource type="Script" uid="uid://dllhpmieg5uvt" path="res://assets/scripts/visible_button.gd" id="5_q6rae"]
[ext_resource type="Texture2D" uid="uid://dgjntge4u28lq" path="res://assets/sprites/UI/Capa - Prendido.jpg" id="6_r6cay"]
[ext_resource type="Texture2D" uid="uid://cq36bfc6havli" path="res://assets/sprites/UI/Mascara - Apagado.jpg" id="7_uknmw"]
[ext_resource type="Texture2D" uid="uid://cq2riwk06yr27" path="res://assets/sprites/UI/Mascara - Prendido.jpg" id="8_rtpnl"]
[ext_resource type="Texture2D" uid="uid://dkgx0f3f31iv2" path="res://assets/sprites/UI/Inversion - 1.jpg" id="9_4ut22"]
[ext_resource type="Texture2D" uid="uid://bid45bwn86uar" path="res://assets/sprites/UI/Inversion - 2.jpg" id="10_1xb4f"]
[ext_resource type="Texture2D" uid="uid://cmqnn6m1fnhn2" path="res://assets/sprites/UI/Candado.png" id="11_hy5no"]
[ext_resource type="Texture2D" uid="uid://dnct8cju8non7" path="res://assets/sprites/UI/Composicion_Icono.png" id="12_wycsn"]
[ext_resource type="Script" uid="uid://3fg005ebrvwy" path="res://assets/scripts/Level_Button.gd" id="13_wn46x"]
[ext_resource type="PackedScene" uid="uid://diqx60uhy4xrn" path="res://assets/Scenes/Level-ish/Level1.tscn" id="14_al5pm"]
[ext_resource type="PackedScene" uid="uid://bthhxw1fo8igh" path="res://assets/Scenes/Level-ish/MainMenu.tscn" id="15_5c4g4"]
[ext_resource type="PackedScene" uid="uid://feog4n3qpmn7" path="res://assets/Scenes/Objects/All Levels/Key.tscn" id="16_nt7mw"]
[ext_resource type="PackedScene" uid="uid://d3q0s1a0b86sg" path="res://assets/Scenes/Objects/All Levels/Door.tscn" id="17_q3w04"]
[ext_resource type="Script" uid="uid://b0ak687cflfy1" path="res://assets/scripts/timer_bar.gd" id="18_50ejg"]
[ext_resource type="Script" uid="uid://v5xqp2kmgwi4" path="res://assets/scripts/QuitButton.gd" id="19_ljskc"]
[ext_resource type="Texture2D" uid="uid://bt6k7j1lkndyi" path="res://assets/sprites/Level1/Fondo.jpg" id="20_dipdw"]
[ext_resource type="Texture2D" uid="uid://brj634fmasmjk" path="res://assets/sprites/Level1/Piso bloqueado.png" id="22_igr5m"]
[ext_resource type="Texture2D" uid="uid://bwbym7qih8ppd" path="res://assets/sprites/Level2/Piso - L2.png" id="24_sqvr4"]
[ext_resource type="PackedScene" uid="uid://n3h8dhnusdwl" path="res://assets/Scenes/stickman.tscn" id="25_7ocre"]
[ext_resource type="PackedScene" uid="uid://coebwqifadh7f" path="res://assets/Scenes/Objects/Level 2/Layers_Wall.tscn" id="25_pluee"]
[ext_resource type="PackedScene" uid="uid://cka0b17pxm3mr" path="res://assets/Scenes/Objects/Level 2/Layers_Wall2.tscn" id="26_4p51e"]
[ext_resource type="Texture2D" uid="uid://dpa24lhcrcn8e" path="res://assets/sprites/UI/Sample_Error_Message.webp" id="26_5fe4h"]
[ext_resource type="PackedScene" uid="uid://csgjjaruwx03u" path="res://assets/Scenes/Objects/Level 2/Layers_Wall3.tscn" id="27_dipdw"]
[ext_resource type="Script" uid="uid://d2ifk2amgms3d" path="res://assets/scripts/annoyance.gd" id="28_1p541"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jb4np"]
size = Vector2(102, 1085)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vumt6"]
size = Vector2(1602.1897, 104.203)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xl8hg"]
size = Vector2(772.5061, 126.08688)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o7own"]
size = Vector2(496.35034, 124.637634)

[node name="Node2D" type="Node2D" unique_id=5663288]
script = ExtResource("1_xl8hg")

[node name="UI" type="Control" parent="." unique_id=2131463720]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="UiEstructuraPantalla00" type="Sprite2D" parent="UI" unique_id=907392600]
position = Vector2(967, 539)
texture = ExtResource("2_o7own")

[node name="Buttons" type="VBoxContainer" parent="UI" unique_id=171285836]
layout_mode = 0
offset_left = 8.0
offset_top = 492.0
offset_right = 814.1159
offset_bottom = 712.0
scale = Vector2(0.63018227, 0.63018227)
theme = ExtResource("3_y8710")

[node name="Object1" type="HBoxContainer" parent="UI/Buttons" unique_id=1526012969]
layout_mode = 2
theme = ExtResource("3_y8710")
theme_override_constants/separation = 150

[node name="HBoxContainer" type="HBoxContainer" parent="UI/Buttons/Object1" unique_id=1050632266]
layout_mode = 2

[node name="Visible" type="Button" parent="UI/Buttons/Object1/HBoxContainer" unique_id=914937908]
layout_mode = 2
icon = ExtResource("4_gueys")
flat = true
script = ExtResource("5_q6rae")
toggle = true
toggled_button = ExtResource("6_r6cay")
untoggled_button = ExtResource("4_gueys")

[node name="Label" type="Label" parent="UI/Buttons/Object1/HBoxContainer" unique_id=632744941]
layout_mode = 2
theme_override_font_sizes/font_size = 60
text = "Muro 1"

[node name="HBoxContainer2" type="HBoxContainer" parent="UI/Buttons/Object1" unique_id=2110281575]
layout_mode = 2

[node name="Mask" type="Button" parent="UI/Buttons/Object1/HBoxContainer2" unique_id=1157997335]
layout_mode = 2
icon = ExtResource("7_uknmw")
script = ExtResource("5_q6rae")
toggled_button = ExtResource("8_rtpnl")
untoggled_button = ExtResource("7_uknmw")

[node name="Invert" type="Button" parent="UI/Buttons/Object1/HBoxContainer2" unique_id=59150145]
layout_mode = 2
icon = ExtResource("9_4ut22")
script = ExtResource("5_q6rae")
toggled_button = ExtResource("10_1xb4f")
untoggled_button = ExtResource("9_4ut22")

[node name="Object2" type="HBoxContainer" parent="UI/Buttons" unique_id=2127301733]
layout_mode = 2
theme_override_constants/separation = 150

[node name="HBoxContainer" type="HBoxContainer" parent="UI/Buttons/Object2" unique_id=1058181272]
layout_mode = 2

[node name="Button" type="Button" parent="UI/Buttons/Object2/HBoxContainer" unique_id=518346251]
layout_mode = 2
icon = ExtResource("4_gueys")
script = ExtResource("5_q6rae")
toggled_button = ExtResource("6_r6cay")
untoggled_button = ExtResource("4_gueys")

[node name="Label2" type="Label" parent="UI/Buttons/Object2/HBoxContainer" unique_id=1266888372]
layout_mode = 2
theme_override_font_sizes/font_size = 60
text = "Muro 2"

[node name="HBoxContainer2" type="HBoxContainer" parent="UI/Buttons/Object2" unique_id=122322500]
layout_mode = 2

[node name="Mask" type="Button" parent="UI/Buttons/Object2/HBoxContainer2" unique_id=1691879933]
layout_mode = 2
icon = ExtResource("7_uknmw")
script = ExtResource("5_q6rae")
toggled_button = ExtResource("8_rtpnl")
untoggled_button = ExtResource("7_uknmw")

[node name="Invert" type="Button" parent="UI/Buttons/Object2/HBoxContainer2" unique_id=336531364]
layout_mode = 2
icon = ExtResource("9_4ut22")
script = ExtResource("5_q6rae")
toggled_button = ExtResource("10_1xb4f")
untoggled_button = ExtResource("9_4ut22")

[node name="Object5" type="HBoxContainer" parent="UI/Buttons" unique_id=1669289049]
layout_mode = 2
theme_override_constants/separation = 150

[node name="HBoxContainer" type="HBoxContainer" parent="UI/Buttons/Object5" unique_id=712997320]
layout_mode = 2

[node name="Visible" type="Button" parent="UI/Buttons/Object5/HBoxContainer" unique_id=2015273250]
layout_mode = 2
icon = ExtResource("6_r6cay")
script = ExtResource("5_q6rae")
toggled_button = ExtResource("6_r6cay")
untoggled_button = ExtResource("4_gueys")

[node name="Label2" type="Label" parent="UI/Buttons/Object5/HBoxContainer" unique_id=810276577]
layout_mode = 2
theme_override_font_sizes/font_size = 60
text = "Muro 3"

[node name="HBoxContainer2" type="HBoxContainer" parent="UI/Buttons/Object5" unique_id=2141629900]
layout_mode = 2

[node name="Mask" type="Button" parent="UI/Buttons/Object5/HBoxContainer2" unique_id=1174447220]
layout_mode = 2
icon = ExtResource("7_uknmw")
script = ExtResource("5_q6rae")
toggled_button = ExtResource("8_rtpnl")
untoggled_button = ExtResource("7_uknmw")

[node name="Invert" type="Button" parent="UI/Buttons/Object5/HBoxContainer2" unique_id=1836430016]
layout_mode = 2
icon = ExtResource("9_4ut22")
script = ExtResource("5_q6rae")
toggled_button = ExtResource("10_1xb4f")
untoggled_button = ExtResource("9_4ut22")

[node name="Object3" type="HBoxContainer" parent="UI/Buttons" unique_id=1677670410]
layout_mode = 2
theme_override_constants/separation = 237

[node name="HBoxContainer" type="HBoxContainer" parent="UI/Buttons/Object3" unique_id=2088326726]
layout_mode = 2

[node name="Button" type="Button" parent="UI/Buttons/Object3/HBoxContainer" unique_id=1140558950]
layout_mode = 2
disabled = true
icon = ExtResource("6_r6cay")

[node name="Label2" type="Label" parent="UI/Buttons/Object3/HBoxContainer" unique_id=1329536943]
layout_mode = 2
theme_override_colors/font_color = Color(0.48178947, 0.48178947, 0.48178947, 1)
theme_override_font_sizes/font_size = 60
text = "Piso"

[node name="HBoxContainer2" type="HBoxContainer" parent="UI/Buttons/Object3" unique_id=1559901623]
layout_mode = 2

[node name="Button" type="Button" parent="UI/Buttons/Object3/HBoxContainer2" unique_id=853777522]
layout_mode = 2
disabled = true
icon = ExtResource("7_uknmw")

[node name="Button2" type="Button" parent="UI/Buttons/Object3/HBoxContainer2" unique_id=917566664]
layout_mode = 2
disabled = true
icon = ExtResource("9_4ut22")

[node name="Button3" type="Button" parent="UI/Buttons/Object3/HBoxContainer2" unique_id=663144041]
layout_mode = 2
disabled = true
icon = ExtResource("11_hy5no")

[node name="Object4" type="HBoxContainer" parent="UI/Buttons" unique_id=2100711568]
layout_mode = 2
theme_override_constants/separation = 2

[node name="HBoxContainer" type="HBoxContainer" parent="UI/Buttons/Object4" unique_id=1331772168]
layout_mode = 2

[node name="Button" type="Button" parent="UI/Buttons/Object4/HBoxContainer" unique_id=190430106]
layout_mode = 2
disabled = true
icon = ExtResource("6_r6cay")

[node name="Label2" type="Label" parent="UI/Buttons/Object4/HBoxContainer" unique_id=1327622115]
layout_mode = 2
theme_override_colors/font_color = Color(0.48235294, 0.48235294, 0.48235294, 1)
theme_override_font_sizes/font_size = 60
text = "Piso Elevado"

[node name="HBoxContainer2" type="HBoxContainer" parent="UI/Buttons/Object4" unique_id=1311847975]
layout_mode = 2

[node name="Button" type="Button" parent="UI/Buttons/Object4/HBoxContainer2" unique_id=550799123]
layout_mode = 2
disabled = true
icon = ExtResource("7_uknmw")

[node name="Button2" type="Button" parent="UI/Buttons/Object4/HBoxContainer2" unique_id=1306080265]
layout_mode = 2
disabled = true
icon = ExtResource("9_4ut22")

[node name="Button3" type="Button" parent="UI/Buttons/Object4/HBoxContainer2" unique_id=587705275]
layout_mode = 2
disabled = true
icon = ExtResource("11_hy5no")

[node name="Buttons2" type="VBoxContainer" parent="UI" unique_id=1232925166]
layout_mode = 0
offset_left = 8.0
offset_top = 143.00003
offset_right = 814.1159
offset_bottom = 587.0
scale = Vector2(0.63018227, 0.63018227)
theme = ExtResource("3_y8710")

[node name="Object1" type="HBoxContainer" parent="UI/Buttons2" unique_id=1086780073]
layout_mode = 2
theme = ExtResource("3_y8710")
theme_override_constants/separation = 150

[node name="Button 1" type="Button" parent="UI/Buttons2/Object1" unique_id=914228411 node_paths=PackedStringArray("lock")]
layout_mode = 2
theme_override_font_sizes/font_size = 60
text = "Comp. 1"
icon = ExtResource("12_wycsn")
script = ExtResource("13_wn46x")
lock = NodePath("../Lock 1")
scene = ExtResource("14_al5pm")

[node name="Lock 1" type="Button" parent="UI/Buttons2/Object1" unique_id=910589755]
layout_mode = 2
disabled = true
icon = ExtResource("11_hy5no")

[node name="Object2" type="HBoxContainer" parent="UI/Buttons2" unique_id=1892238147]
layout_mode = 2
theme_override_constants/separation = 150

[node name="Button 2" type="Button" parent="UI/Buttons2/Object2" unique_id=1399093102 node_paths=PackedStringArray("lock")]
layout_mode = 2
theme_override_font_sizes/font_size = 60
text = "Comp. 2"
icon = ExtResource("12_wycsn")
script = ExtResource("13_wn46x")
level = 1
lock = NodePath("../Lock 2")
scene = ExtResource("15_5c4g4")

[node name="Lock 2" type="Button" parent="UI/Buttons2/Object2" unique_id=671779971]
layout_mode = 2
disabled = true
icon = ExtResource("11_hy5no")

[node name="Object3" type="HBoxContainer" parent="UI/Buttons2" unique_id=429321129]
layout_mode = 2
theme_override_constants/separation = 150

[node name="Button 3" type="Button" parent="UI/Buttons2/Object3" unique_id=358076857 node_paths=PackedStringArray("lock")]
layout_mode = 2
theme_override_font_sizes/font_size = 60
text = "Comp. 3"
icon = ExtResource("12_wycsn")
script = ExtResource("13_wn46x")
level = 2
lock = NodePath("../Lock 3")
scene = ExtResource("16_nt7mw")

[node name="Lock 3" type="Button" parent="UI/Buttons2/Object3" unique_id=1395735014]
layout_mode = 2
disabled = true
icon = ExtResource("11_hy5no")

[node name="Object4" type="HBoxContainer" parent="UI/Buttons2" unique_id=2062351214]
layout_mode = 2
theme_override_constants/separation = 150

[node name="Button 4" type="Button" parent="UI/Buttons2/Object4" unique_id=45787764 node_paths=PackedStringArray("lock")]
layout_mode = 2
theme_override_font_sizes/font_size = 60
text = "Comp. 4"
icon = ExtResource("12_wycsn")
script = ExtResource("13_wn46x")
level = 3
lock = NodePath("../Lock 4")
scene = ExtResource("17_q3w04")

[node name="Lock 4" type="Button" parent="UI/Buttons2/Object4" unique_id=725770701]
layout_mode = 2
disabled = true
icon = ExtResource("11_hy5no")

[node name="ProgressBar" type="ProgressBar" parent="UI" unique_id=514564891]
layout_mode = 0
offset_left = 560.0
offset_top = 925.0
offset_right = 1882.0
offset_bottom = 1044.0
max_value = 30.0
step = 0.05
show_percentage = false
script = ExtResource("18_50ejg")

[node name="Timer" type="Timer" parent="UI/ProgressBar" unique_id=94666529]
process_callback = 0
wait_time = 0.05
autostart = true

[node name="Button2" type="Button" parent="UI" unique_id=1867423164]
layout_mode = 0
offset_left = 1870.0
offset_right = 1911.0
offset_bottom = 40.0
theme_override_font_sizes/font_size = 50
script = ExtResource("19_ljskc")

[node name="Game" type="Node2D" parent="." unique_id=1253256916]
position = Vector2(310, 129)
scale = Vector2(0.822, 0.69)

[node name="Background" type="Node2D" parent="Game" unique_id=319861261]
position = Vector2(1111, 540)
scale = Vector2(0.84000003, 1)

[node name="Sprite2D" type="Sprite2D" parent="Game/Background" unique_id=235513550]
texture = ExtResource("20_dipdw")

[node name="InvisibleWall" type="StaticBody2D" parent="Game" unique_id=744991550]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Game/InvisibleWall" unique_id=1237315419]
visible = false
position = Vector2(251, 533)
shape = SubResource("RectangleShape2D_jb4np")

[node name="InvisibleWall2" type="StaticBody2D" parent="Game" unique_id=1368354813]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Game/InvisibleWall2" unique_id=1504180876]
visible = false
position = Vector2(1968, 533)
shape = SubResource("RectangleShape2D_jb4np")

[node name="HigherFloor" type="StaticBody2D" parent="Game" unique_id=1229442394]
position = Vector2(0, -71.014496)

[node name="Sprite2D" type="Sprite2D" parent="Game/HigherFloor" unique_id=129301006]
position = Vector2(1110, 650)
scale = Vector2(0.84000003, 1)
texture = ExtResource("22_igr5m")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Game/HigherFloor" unique_id=958182391]
visible = false
polygon = PackedVector2Array(304.13626, 302.29855, 563.2604, 302.29855, 574.2092, 308.09567, 575.4258, 429.83478, 304.13626, 429.83478)

[node name="Key" parent="Game" unique_id=1585223162 instance=ExtResource("16_nt7mw")]
position = Vector2(1824.8174, 385.50723)
scale = Vector2(0.63793993, 0.63793993)

[node name="Door" parent="Game" unique_id=2132548742 instance=ExtResource("17_q3w04")]
position = Vector2(431.87347, 123.188385)
scale = Vector2(0.84, 0.84)

[node name="Stickman" parent="Game" unique_id=564413360 node_paths=PackedStringArray("key", "door", "deathplane", "deathAlert") instance=ExtResource("25_7ocre")]
position = Vector2(375.91245, 869.5652)
SPEED = 300
currentLevel = 2
GRAVITY = 600
key = NodePath("../Key")
door = NodePath("../Door")
deathplane = NodePath("../Death Plane")
deathAlert = NodePath("../Death Alert")

[node name="Death Plane" type="Area2D" parent="Game" unique_id=226954258]
position = Vector2(0, -104.347824)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Game/Death Plane" unique_id=405907504]
visible = false
position = Vector2(1110.0973, 1149.2029)
shape = SubResource("RectangleShape2D_vumt6")

[node name="Death Alert" type="Sprite2D" parent="Game" unique_id=1830042996]
visible = false
position = Vector2(1137.4696, 533.3333)
scale = Vector2(3.6861055, 3.6861055)
texture = ExtResource("26_5fe4h")

[node name="Floor" type="StaticBody2D" parent="Game" unique_id=24604805]

[node name="Sprite2D" type="Sprite2D" parent="Game/Floor" unique_id=1817404952]
position = Vector2(1110.7056, 611.5942)
scale = Vector2(0.84, 0.84)
texture = ExtResource("24_sqvr4")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Game/Floor" unique_id=764256727]
position = Vector2(690.3893, 1019.56506)
shape = SubResource("RectangleShape2D_xl8hg")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Game/Floor" unique_id=420254221]
position = Vector2(1669.0997, 1021.73914)
shape = SubResource("RectangleShape2D_o7own")

[node name="Node2D2" parent="Game" unique_id=1367497213 node_paths=PackedStringArray("button_mask", "button_invert") instance=ExtResource("25_pluee")]
position = Vector2(922.1411, 466.66663)
scale = Vector2(0.839416, 1)
button_visible_path = NodePath("../../UI/Buttons/Object2/HBoxContainer/Button")
button_mask = NodePath("../../UI/Buttons/Object2/HBoxContainer2/Mask")
button_invert = NodePath("../../UI/Buttons/Object2/HBoxContainer2/Invert")

[node name="Node2D3" parent="Game" unique_id=103112619 node_paths=PackedStringArray("button_mask", "button_invert") instance=ExtResource("27_dipdw")]
position = Vector2(1566.9102, 727.5362)
scale = Vector2(0.839416, 1)
button_visible_path = NodePath("../../UI/Buttons/Object5/HBoxContainer/Visible")
button_mask = NodePath("../../UI/Buttons/Object5/HBoxContainer2/Mask")
button_invert = NodePath("../../UI/Buttons/Object5/HBoxContainer2/Invert")

[node name="Node2D" parent="Game" unique_id=1943622053 node_paths=PackedStringArray("button_mask", "button_invert") instance=ExtResource("26_4p51e")]
position = Vector2(1253.0414, 714.49286)
scale = Vector2(0.839416, 1)
button_visible_path = NodePath("../../UI/Buttons/Object1/HBoxContainer/Visible")
button_mask = NodePath("../../UI/Buttons/Object1/HBoxContainer2/Mask")
button_invert = NodePath("../../UI/Buttons/Object1/HBoxContainer2/Invert")

[node name="Annoyance" type="Control" parent="." unique_id=1469226107 node_paths=PackedStringArray("player")]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("28_1p541")
player = NodePath("../Game/Stickman")

[node name="Timer" type="Timer" parent="Annoyance" unique_id=601031419]
wait_time = 8.0
autostart = true

[connection signal="timeout" from="UI/ProgressBar/Timer" to="UI/ProgressBar" method="_on_timer_timeout"]
[connection signal="button_down" from="UI/Button2" to="UI/Button2" method="_on_button_down"]
[connection signal="timeout" from="Annoyance/Timer" to="Annoyance" method="_on_timer_timeout"]
